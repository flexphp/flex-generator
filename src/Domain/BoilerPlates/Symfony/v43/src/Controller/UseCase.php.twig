{% if action == 'Index' or action == 'Create' %}
        $useCase = new {{ action }}{{ entity }}UseCase(new {{ entity }}Repository(new MySQL{{ entity }}Gateway($conn)));

{% else %}
        $useCase = new {{ action }}{{ entity }}UseCase();
{% endif %}
        $response = $useCase->execute($request);