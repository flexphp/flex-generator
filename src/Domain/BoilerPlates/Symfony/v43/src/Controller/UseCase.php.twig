{% if action in ['Index', 'Create', 'Read'] %}
        $useCase = new {{ action }}{{ entity }}UseCase(new {{ entity }}Repository(new MySQL{{ entity }}Gateway($conn)));

{% else %}
        $useCase = new {{ action }}{{ entity }}UseCase();
{% endif %}
        $response = $useCase->execute($request);