<?php declare(strict_types=1);

namespace Domain\{{ entity }};

{% if 'create' in actions %}
use Domain\{{ entity }}\Request\Create{{ entity }}Request;
{% endif %}
use FlexPHP\Repositories\Repository;

final class {{ entity }}Repository extends Repository
{
{% for action in actions %}
{% if action in ['create'] %}
    public function add(Create{{ entity }}Request $request): void
    {
        ${{ item }} = (new {{ entity }}Factory())->make($request);

        $this->getGateway()->persist(${{ item }});
    }
{% endif %}
{% if not loop.last %}

{% endif %}
{% endfor %}
}
