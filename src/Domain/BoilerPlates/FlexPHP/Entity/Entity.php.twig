{% set is_user = name == 'User' %}
<?php declare(strict_types=1);

namespace Domain\{{ name }};
{% if fkFns %}

{% endif %}
{% for fkFn in fkFns %}
use Domain\{{ fkFn.fnSingular }}\{{ fkFn.fnSingular }};
{% endfor %}

{% if is_user %}
use Symfony\Component\Security\Core\User\UserInterface;

final class {{ name }} implements UserInterface
{% else %}
final class {{ name }}
{% endif %}
{
{% for _property in _properties %}
    private ${{ _property }};
{% endfor %}
{% for fkRel in fkRels %}
    private ${{ fkRel.pkName }}Instance;
{% endfor %}
{% if getters %}

{% endif %}
{% for getter in getters %}
{% if not loop.last %}
{{ getter|raw }}

{% else %}
{{ getter|raw }}
{% endif %}
{% endfor %}
{% if fkGetters %}

{% endif %}
{% for fkGetter in fkGetters %}
{% if not loop.last %}
{{ fkGetter|raw }}

{% else %}
{{ fkGetter|raw }}
{% endif %}
{% endfor %}
{% if setters %}

{% endif %}
{% for setter in setters %}
{% if not loop.last %}
{{ setter|raw }}

{% else %}
{{ setter|raw }}
{% endif %}
{% endfor %}
{% if fkSetters %}

{% endif %}
{% for fkSetter in fkSetters %}
{% if not loop.last %}
{{ fkSetter|raw }}

{% else %}
{{ fkSetter|raw }}
{% endif %}
{% endfor %}
{% if (getters or fkGetters or setters or fkSetters) and is_user %}

{% endif %}
{% if is_user %}
    public function getUsername()
    {
        return $this->name();
    }

    public function getPassword()
    {
        return $this->password();
    }

    public function getSalt()
    {
        return null;
    }

    public function getRoles()
    {
        return ['ROLE_ADMIN', 'ROLE_USER'];
    }

    public function eraseCredentials()
    {
        return true;
    }
{% endif %}
}
